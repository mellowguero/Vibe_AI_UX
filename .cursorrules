## CSS Architecture Rules

**File Structure:**
- `src/styles/modules.css` - All module content styles (chat bubbles, messages, module internals) - SHARED between playground and React app
- `src/styles/gui.css` - All GUI/chrome styles (module wrappers, buttons, controls) - SHARED between playground and React app  
- `src/index.css` - App layout only, imports modules.css + gui.css
- `playground.css` - Playground layout only, imports modules.css + gui.css

**Import Chain:**
- React app: `index.html` → `main.tsx` → `index.css` → `modules.css` + `gui.css`
- Playground: `playground.html` → `playground.css` → `modules.css` + `gui.css`

**Workflow:**
1. Style module content in `playground.html` using production class names
2. Add/edit styles in `src/styles/modules.css` or `src/styles/gui.css`
3. Styles automatically apply to both playground and React app (no copying needed)
4. `playground.html` should only contain production components (no experimental/controls panels)

**Module Content Styles** (go in modules.css):
- `.chat-module*`, `.chat-message*`, `.chat-input*`
- `.image-module*`, `.media-module*`, `.text-module*`, `.map-module*`, `.search-module*`
- `.nested-module*` content

**GUI Styles** (go in gui.css):
- `.module-card`, `.module-header`, `.module-close-button`, `.module-content`
- `.module-input`, `.module-textarea`
- `.composition-menu*`
- Any UI chrome/controls

## Component Organization Rules

**File Structure:**
- `src/components/modules/` - All module components (ChatModule, MediaModule, etc.)
- `src/components/shared/` - Shared/reusable UI components
 - Simple components: flat files (e.g., `Button.tsx`)
 - Complex components: own folder with index.ts (e.g., `MessageBubble/MessageBubble.tsx`)
- `src/components/` root - Only for simple, non-module components (Inspector, CompositionMenu, etc.)

**Rules:**
1. All module components MUST be in `modules/` folder
2. Shared components used by multiple modules MUST be in `shared/` folder
3. Complex shared components (multiple files, styles, or utilities) MUST have their own folder
4. Simple shared components can be flat files in `shared/`
5. When creating a new component, check if it's a module, shared, or simple component and place accordingly
6. Always verify component organization before committing

